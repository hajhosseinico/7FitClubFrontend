(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/logo.e8ba0555.png"},function(e,t,a){e.exports=a.p+"static/media/cards.5d6cd32d.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAAeCAYAAAAB6YS9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALtSURBVHgB7d3fURpBAMfx366AgTgGZ5LM5I0OYirQDmIHxhJSQbSDpIKYDrQD0gHpgHeT6Dgi/2+zSzSDzhAE9mAdv58XEfAe4O7rsnfcmV/XzgkAkBwrAECSCDQAJIpAA0CiCDQAJIpAA0CiCDQAJIpAA0CCnNOp4ThoAEiM04W1elcQlsu/8MboYurzjJqalVNt4kNOVb/MqvD4TVuH/OP+s/H0dWxcNn398CO5mpCvv+9tw1gdbJVN0whP0rlz1X5LNbOmqnXa9ivCjt8At8VGuFL+fWg6o7rfUH/4f6rNvlUj3P/Gb6zCk0Ogccd529WG0q6P9nsf7D0hXzcjJv9an/aMTggxxhFoTBRG2cOO9vye5H0/mtsVovEbXj1E2ZZ1vGXMbNMReDIINB5kNLLOdOhHeztiGmQ+frScSV9cUSevS6YhYAoCjZncToEYp08i1A9zE+ZCRZ8ZLWMWBBpz+9l2Hwj1fxBmLIhAY2GE+h7CjEgINKI5a7lDa7SvHELtXCY36MsW17WILCyjUFQuCDMiI9CIamxn4r4i6rUuNOhcydiCipVNFdYrM/191u+q174c/Sw821DpecTv7BBm5IRAIxexQ50Ne+pe/pbLBqPfHxrq8TAHtrCu0sYL2bWSojA6ttLRFscvIwcEGrkKoXbS11jHUQ+61+pfX04NdXjeoNv6F+Z5R96ThOOYh0ZHr8qmLiAnBBpLEXtH4qRQB3fuN3Y0pVEob4xuR9DMjA4IM5aBQGOpYoY6RHjQCSPlK387u/NY9DD7eWZn9fFl2RwLWBICjZWIHeowag6j6qBY3owaZnYAYlUINFYqdqiDMN2xMMKMBBBoJCGhL7s0M6dvhBkpINBISgj1Ks6ex1EZSBGBRpKWcvY8zi6HxBFoJO+s7cLZ8/as044zo6u+zM0vp5EZfffLOWG0jNQRaDwq4SICg462baZdP7p+O7qOnlPt/vXywqWjbg6Na9xePmqtojrzynhM/gClZWTtD2yBNAAAAABJRU5ErkJggg=="},function(e,t,a){e.exports=a(33)},,,,,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),l=a.n(r),o=(a(25),a(10)),s=a(3);const m=Object(n.createContext)(),i=e=>{let{children:t}=e;const[a,r]=Object(n.useState)(()=>{const e=localStorage.getItem("authToken");return e?{token:e}:{}});return Object(n.useEffect)(()=>{a.token?localStorage.setItem("authToken",a.token):localStorage.removeItem("authToken")},[a]),c.a.createElement(m.Provider,{value:{auth:a,setAuth:r}},t)};var u=m;var d=a(35).a.create({baseURL:"http://18.118.119.144:3000",headers:{"Content-Type":"application/json"}}),g=(a(30),a(14)),p=a.n(g),E=a(15),A=a.n(E);var v=()=>{const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),[l,o]=Object(n.useState)(""),{setAuth:m}=Object(n.useContext)(u),i=Object(s.o)();return c.a.createElement("div",{className:"background-wrapper"},c.a.createElement("div",{className:"login-container"},c.a.createElement("div",{className:"login-header"},c.a.createElement("img",{src:p.a,alt:"Fitclub",className:"logo"}),c.a.createElement("p",null,"\u06cc\u06a9 \u0627\u0634\u062a\u0631\u0627\u06a9 \u0628\u0631\u0627\u06cc \u062a\u0645\u0627\u0645\u06cc \u06a9\u0644\u0627\u0633 \u0647\u0627")),c.a.createElement("div",{className:"login-cards"},c.a.createElement("img",{src:A.a,alt:"Class 2",className:"full-width-image"})),c.a.createElement("form",{className:"login-form",onSubmit:async t=>{t.preventDefault();try{const t=await d.post("/auth/login",{phonenumber:e,password:a});console.log(t.data),o("Login successful!"),m({token:t.data.token}),localStorage.setItem("authToken",t.data.token),i("/calendar")}catch(n){console.error("Error:",n.response?n.response.data:n.message),o("Login failed. Please check your credentials and try again.")}}},c.a.createElement("label",{htmlFor:"phonenumber",className:"right-aligned"},"\u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644"),c.a.createElement("input",{type:"text",id:"phonenumber",name:"phonenumber",placeholder:"091********",value:e,onChange:e=>t(e.target.value)}),c.a.createElement("label",{htmlFor:"password",className:"right-aligned"},"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"),c.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"********",value:a,onChange:e=>r(e.target.value)}),c.a.createElement("button",{type:"submit",className:"login-button"},"\u0648\u0631\u0648\u062f")),l&&c.a.createElement("p",null,l)))},h=a(11),N=a.n(h);a(31),a(12);var b=e=>{let{children:t}=e;return c.a.createElement("div",{className:"background-wrapper"},c.a.createElement("div",{className:"container"},t))},S=a(16),w=a.n(S);var f=()=>{const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)(""),[l,o]=Object(n.useState)([]),[s,m]=Object(n.useState)([]),[i,g]=Object(n.useState)(""),{auth:p}=Object(n.useContext)(u),E=Object(n.useCallback)(async()=>{try{const a=(await d.get("/calendar",{headers:{Authorization:"Bearer ".concat(p.token)}})).data.sort((e,t)=>{const a=f(e.time_date,90);return f(t.time_date,90)-a});t(a)}catch(e){console.error("Error fetching events:",e)}},[p.token]),A=Object(n.useCallback)(()=>{const e=["\u0641\u0631\u0648\u0631\u062f\u06cc\u0646","\u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a","\u062e\u0631\u062f\u0627\u062f","\u062a\u06cc\u0631","\u0645\u0631\u062f\u0627\u062f","\u0634\u0647\u0631\u06cc\u0648\u0631","\u0645\u0647\u0631","\u0622\u0628\u0627\u0646","\u0622\u0630\u0631","\u062f\u06cc","\u0628\u0647\u0645\u0646","\u0627\u0633\u0641\u0646\u062f"],t=new Date,a=N.a.toJalaali(t.getFullYear(),t.getMonth()+1,t.getDate()),n=a.jm-1;r(e[n]),g(j("".concat(a.jd," ").concat(e[n],", ").concat(v(t.getDay()))))},[]);Object(n.useEffect)(()=>{E(),A(),h()},[E,A]);const v=e=>["\u0634\u0646\u0628\u0647","\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200c\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647"][(e+1)%7],h=()=>{const e=["\u0634","\u06cc","\u062f","\u0633","\u0686","\u067e","\u062c"],t=new Date,a=N.a.toJalaali(t.getFullYear(),t.getMonth()+1,t.getDate()).jd,n=(t.getDay()+1)%7,c=[],r=[];for(let l=-3;l<=3;l++){const t=(n+l+7)%7;c.push(e[t]);const o=a+l;r.push(o)}o(c),m(r)},S=e=>{const t=new Date(e),a=t.getHours(),n=t.getMinutes().toString().padStart(2,"0");return"".concat((a%12===0?12:a%12).toLocaleString("fa-IR",{minimumIntegerDigits:2}),":").concat(n)},f=(e,t)=>{const a=new Date,n=e.split("T")[0],c=e.split("T")[1].split(".")[0],r="".concat(n,"T").concat(c),l=new Date(r),o=new Date(l.getTime()+6e4*t);return console.log("Current Time:",a.toString()),console.log("Start Time:",l.toString()),console.log("End Time:",o.toString()),console.log("Is Live:",a>=l&&a<=o),a>=l&&a<=o},j=e=>{const t=["0","1","2","3","4","5","6","7","8","9"],a=["\u06f0","\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9"];return e.replace(/\d/g,e=>a[t.indexOf(e)])};return c.a.createElement(b,null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"calendar-header"},c.a.createElement("h3",{className:"title-text"},"\u0644\u0627\u06cc\u0648\u0647\u0627\u06cc \u0628\u0631\u0646\u0627\u0645\u0647 \u0631\u06cc\u0632\u06cc \u0634\u062f\u0647"),c.a.createElement("p",{className:"current-month"},a),c.a.createElement("div",{className:"weekdays-row"},l.map((e,t)=>c.a.createElement("div",{key:t,className:"weekday ".concat(3===t?"current-day":"")},e))),c.a.createElement("div",{className:"days-row"},s.map((e,t)=>c.a.createElement("div",{key:t,className:"day-number ".concat(3===t?"current-day-number":"")},j(e.toString()))))),c.a.createElement("div",{className:"edge"},c.a.createElement("img",{src:w.a,alt:"Fitclub",className:"edge"})),c.a.createElement("div",{className:"current-date"},c.a.createElement("p",{className:"formatted-date"},i)),c.a.createElement("div",{className:"calendar-events"},e.map(e=>{const t=j(S(e.time_date)),a=j((e=>{const t=new Date(e),a=t.getHours(),n=t.getMinutes().toString().padStart(2,"0"),c=a<12?"\u0635\u0628\u062d":"\u0639\u0635\u0631";return"".concat((a%12===0?12:a%12).toLocaleString("fa-IR",{minimumIntegerDigits:2}),":").concat(n," ").concat(c)})(e.time_date)),n=j(S(((e,t)=>{const a=new Date(e);return new Date(a.getTime()+6e4*t).toISOString()})(e.time_date,90))),r=f(e.time_date,90);return c.a.createElement("div",{key:e.id,className:"event-wrapper-horizontal"},c.a.createElement("div",{className:"event-time"},a),c.a.createElement("div",{key:e.id,className:"event-wrapper-vertical"},c.a.createElement("div",{className:"event-card",style:{backgroundColor:"#E3FDDD"}},c.a.createElement("div",{className:"event-info"},c.a.createElement("h2",null,"".concat(n," - ").concat(t)),c.a.createElement("h3",null,e.trainer_name),c.a.createElement("p",null,e.title)),c.a.createElement("div",{className:"trainer-image-container"},c.a.createElement("div",{className:"trainer-image-wrapper ".concat(r?"live":"")},c.a.createElement("img",{src:e.trainer_image,alt:e.trainer_name,className:"trainer-image"}),r&&c.a.createElement("div",{className:"online-text"},"\u0622\u0646\u0644\u0627\u06cc\u0646")))),r?c.a.createElement("a",{href:e.live_video_link,className:"join-button"},"\u0648\u0631\u0648\u062f \u0628\u0647 \u0644\u0627\u06cc\u0648"):c.a.createElement("div",{className:"expired-text"},"\u0644\u0627\u06cc\u0648 \u067e\u0627\u06cc\u0627\u0646 \u06cc\u0627\u0641\u062a\u0647 \u0627\u0633\u062a")))})),c.a.createElement("button",{className:"add-button"},"+")))};a(32);var j=()=>c.a.createElement(i,null,c.a.createElement(o.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/login",element:c.a.createElement(v,null)}),c.a.createElement(s.a,{path:"/calendar",element:c.a.createElement(f,null)}),c.a.createElement(s.a,{path:"/",element:c.a.createElement(v,null)}))));var C=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,36)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:r,getTTFB:l}=t;a(e),n(e),c(e),r(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i,null,c.a.createElement(j,null)))),C()}],[[17,1,2]]]);
//# sourceMappingURL=main.9c802486.chunk.js.map